## 3 采集规则

### 3.2 Request 结构体

Request结构体定义了请求Url时的具体配置，相关的代码如下：

```
// Request represents object waiting for being crawled.
type Request struct {
	Spider string // *规则中无需手动指定

	Url  string // *必须设置
	Rule string // *必须设置

	// GET POST POST-M HEAD
	Method string
	// http header
	Header http.Header
	// 是否使用cookies，在Spider的EnableCookie设置
	EnableCookie bool
	// POST values
	PostData string
	// dial tcp: i/o timeout
	DialTimeout time.Duration
	// WSARecv tcp: i/o timeout
	ConnTimeout time.Duration
	// the max times of download
	TryTimes int
	// how long pause when retry
	RetryPause time.Duration
	// max redirect times
	// when RedirectTimes equal 0, redirect times is ∞
	// when RedirectTimes less than 0, redirect times is 0
	RedirectTimes int
	// the download ProxyHost
	Proxy string

	// 标记临时数据，通过temp[x]==nil判断是否有值存入，所以请存入带类型的值，如[]int(nil)等
	Temp Temp

	// 记录Temp中对应的临时数据是否是以json格式存储
	// 由程序自动控制，不可人为指定
	TempIsJson map[string]bool

	// 即将加入哪个优先级的队列当中，默认为0，最小优先级为0
	Priority int

	// 是否允许重复下载
	Reloadable bool

	// 指定下载器ID
	// 0为Surf高并发下载器，各种控制功能齐全
	// 1为PhantomJS下载器，特点破防力强，速度慢，低并发
	DownloaderID int
}
```
&nbsp;
